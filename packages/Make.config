#
# User defined Makefile options for the Video Disk Recorder
#
# Copy this file to 'Make.config' and change the parameters as necessary.
#
# See the main source file 'vdr.c' for copyright information and
# how to reach the author.
#
# $Id: Make.config.template 1.4 2005/05/14 10:32:33 kls Exp $

### The C compiler and options:

# DISTCC = distcc
CCACHE = $(shell which ccache)
# MAKE  += -j3

#RBMINI=1

#For RB AVG
MACHINE = -m32 -march=pentium3 -mmmx -msse -mfpmath=sse

#For RB Lite
ifdef RBLITE
  MACHINE = -m32 -march=pentium-mmx -mmmx
endif

#For RB Mini
ifdef RBMINI
  CROSS   = arm-linux-gnueabi-
  MACHINE = -mcpu=arm1176jz-s
  HOST    = arm9
  ARCH    = arm
endif

CFLAGS   = -O2 -funroll-loops -fomit-frame-pointer $(MACHINE) -Wall -Wstrict-prototypes
CXXFLAGS = -O2 -funroll-loops -fomit-frame-pointer $(MACHINE) -Wall -Woverloaded-virtual

CC       = $(CCACHE) $(DISTCC) $(CROSS)gcc
CXX      = $(CCACHE) $(DISTCC) $(CROSS)g++
STRIP    = $(CROSS)strip

export CC CXX CFLAGS CXXFLAGS CROSS

### The distribution used

DISTRIB_RELEASE = $(shell lsb_release -sr )

ifeq ($(DISTRIB_RELEASE), 10.04)
    VDRVER    := 1.7
else
ifeq ($(DISTRIB_RELEASE), 14.04)
    VDRVER    := 2.1.6
endif
endif


### The directory environment:

MANDIR   = /usr/man
BINDIR   = /usr/bin
SBINDIR  = /usr/sbin

VDRDIR         = $(SRCDIR)/vdr-$(VDRVER)
PLUGINDIR      = $(SRCDIR)/vdr-plugins
PLUGINLIBDIR   = /usr/lib/vdr
VIDEODIR       = /media/reel/recordings
CONFIGDIR      = /etc/vdr
SYSCONFIGFNAME = /etc/reel/sysconfig

REELVDR=1
WITHOUT_MPLAYER=1
REMOTE=LIRC
LIRC_DEVICE = /dev/lircd
FP_DEVICE = /dev/frontpanel
USER_INPUT_DEVICE = /dev/input/uinput

export FP_DEVICE LIRC_DEVICE

# for DVD resume
RESUMEDIR=/tmp

# for normal TT card (2MB)
#MAXOSDMEMORY=92000
# for modified TT card (4MB) and ReelBox
MAXOSDMEMORY=1000000

FONTPATH          = "/etc/vdr/plugins/graphlcd/fonts/verdanab-009.fnt"
export FONTPATH

APIVERSION := $(shell sed -ne '/define APIVERSION/ s/^.*"\(.*\)".*$$/\1/p' $(VDRDIR)/config.h)
export APIVERSION RBMINI RBLITE

