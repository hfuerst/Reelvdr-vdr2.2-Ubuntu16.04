diff -Nur bftpd-3.4/bftpdutmp.c bftpd-3.5/bftpdutmp.c
--- bftpd-3.4/bftpdutmp.c	2010-06-02 00:12:04.000000000 +0200
+++ bftpd-3.5/bftpdutmp.c	2011-07-10 19:15:51.000000000 +0200
@@ -1,6 +1,7 @@
 #include <stdio.h>
 #include <string.h>
 #include <sys/types.h>
+#include <sys/stat.h>
 #include <unistd.h>
 #include <stdlib.h>
 #include <time.h>
diff -Nur bftpd-3.4/main.c bftpd-3.5/main.c
--- bftpd-3.4/main.c	2011-05-11 00:37:30.000000000 +0200
+++ bftpd-3.5/main.c	2011-07-10 19:14:56.000000000 +0200
@@ -251,6 +251,7 @@
 				   sizeof(i));
 #endif
 		memset((void *) &myaddr, 0, sizeof(myaddr));
+                myaddr.sin_family = AF_INET;
         if (!((port = strtoul(config_getoption("PORT"), NULL, 10))))
             port = DEFAULT_PORT;
 		myaddr.sin_port = htons(port);
